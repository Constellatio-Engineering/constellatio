(self.webpackChunkconstellatio=self.webpackChunkconstellatio||[]).push([[2832],{"./src/components/atoms/RouterTransition/RouterTransition.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>RouterTransition_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),next_router=__webpack_require__("./node_modules/next/router.js"),create_use_external_events=__webpack_require__("./node_modules/@mantine/utils/esm/create-use-external-events/create-use-external-events.js");const[useNavigationProgressEvents,createEvent]=(0,create_use_external_events.P)("mantine-nprogress"),nprogress={start:createEvent("start"),stop:createEvent("stop"),reset:createEvent("reset"),set:createEvent("set"),increment:createEvent("increment"),decrement:createEvent("decrement"),complete:createEvent("complete")};var get_default_z_index=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/get-default-z-index/get-default-z-index.js"),MantineProvider=__webpack_require__("./node_modules/@mantine/styles/esm/theme/MantineProvider.js"),OptionalPortal=__webpack_require__("./node_modules/@mantine/core/esm/Portal/OptionalPortal.js"),Progress=__webpack_require__("./node_modules/@mantine/core/esm/Progress/Progress.js"),use_reduced_motion=__webpack_require__("./node_modules/@mantine/hooks/esm/use-reduced-motion/use-reduced-motion.js");var use_did_update=__webpack_require__("./node_modules/@mantine/hooks/esm/use-did-update/use-did-update.js"),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));function NavigationProgress({initialProgress=0,color,size=3,stepInterval=500,transitionDuration=300,exitTimeout=500,exitTransitionDuration=400,onFinish,autoReset=!1,withinPortal=!0,portalProps,zIndex=(0,get_default_z_index.w)("max"),progressLabel}){const theme=(0,MantineProvider.rZ)(),shouldReduceMotion=(0,use_reduced_motion.J)(),reducedMotion=!!theme.respectReducedMotion&&shouldReduceMotion,[_progress,setProgress]=(0,react.useState)(initialProgress),[mounted,setMounted]=(0,react.useState)(!0),[unmountProgress,setUnmountProgress]=(0,react.useState)(!1),resetRef=(0,react.useRef)(),unmountRef=(0,react.useRef)(),interval=function useInterval(fn,interval){const[active,setActive]=(0,react.useState)(!1),intervalRef=(0,react.useRef)(),fnRef=(0,react.useRef)();(0,react.useEffect)((()=>{fnRef.current=fn}),[fn]);const start=()=>{setActive((old=>(old||intervalRef.current||(intervalRef.current=window.setInterval(fnRef.current,interval)),!0)))},stop=()=>{setActive(!1),window.clearInterval(intervalRef.current),intervalRef.current=void 0};return{start,stop,toggle:()=>{active?stop():start()},active}}((()=>{setProgress((amount=>{let next=0;return amount>=0&&amount<=20?next=10:amount>=20&&amount<=50?next=4:amount>=50&&amount<=80?next=2:amount>=80&&amount<=99&&(next=.5),amount+next}))}),stepInterval),stop=()=>interval.stop(),reset=()=>{setUnmountProgress(!0),stop(),setProgress(0),window.setTimeout((()=>setUnmountProgress(!1)),0)};return(0,use_did_update.l)((()=>{_progress>=100?(stop(),null==onFinish||onFinish(),unmountRef.current=window.setTimeout((()=>{unmountRef.current=null,setMounted(!1),autoReset&&(resetRef.current=window.setTimeout((()=>{resetRef.current=null,reset()}),reducedMotion?0:exitTransitionDuration))}),exitTimeout)):mounted||(unmountRef.current&&(window.clearTimeout(unmountRef.current),unmountRef.current=null),resetRef.current&&(window.clearTimeout(resetRef.current),resetRef.current=null),setMounted(!0))}),[_progress]),useNavigationProgressEvents({start:()=>{interval.stop(),interval.start()},stop,set:value=>setProgress(value),increment:value=>setProgress((c=>Math.min(c+value,100))),decrement:value=>setProgress((c=>Math.max(c-value,0))),reset,complete:()=>setProgress(100)}),react.createElement(OptionalPortal.q,__spreadProps(__spreadValues({},portalProps),{withinPortal}),!unmountProgress&&react.createElement(Progress.E,{radius:0,value:_progress,size,color,styles:{root:{position:"fixed",top:0,left:0,right:0,zIndex,backgroundColor:"transparent",transitionProperty:"opacity",transitionTimingFunction:theme.transitionTimingFunction,transitionDuration:`${reducedMotion||100!==_progress?0:exitTransitionDuration}ms`,opacity:mounted?1:0},bar:{position:"relative",transitionProperty:"width",transitionTimingFunction:theme.transitionTimingFunction,transitionDuration:`${reducedMotion||!mounted?0:transitionDuration}ms`}},"aria-label":progressLabel}))}var _Default$parameters,_Default$parameters2,__jsx=react.createElement;function RouterTransition(){var router=(0,next_router.useRouter)();return(0,react.useEffect)((function(){var handleStart=function handleStart(url){return url!==router.asPath&&nprogress.start()},handleComplete=function handleComplete(){return nprogress.complete()};return router.events.on("routeChangeStart",handleStart),router.events.on("routeChangeComplete",handleComplete),router.events.on("routeChangeError",handleComplete),function(){router.events.off("routeChangeStart",handleStart),router.events.off("routeChangeComplete",handleComplete),router.events.off("routeChangeError",handleComplete)}}),[router.asPath]),__jsx(NavigationProgress,{progressLabel:"Loading Page",autoReset:!0})}RouterTransition.displayName="RouterTransition",RouterTransition.__docgenInfo={description:"",methods:[],displayName:"RouterTransition"};var RouterTransition_stories_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Default={render:function render(){return RouterTransition_stories_jsx(RouterTransition,null)}};const RouterTransition_stories={title:"Atoms/RouterTransition",component:RouterTransition};Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"{\n  render: () => <RouterTransition />\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})})},"?c969":()=>{},"?3e83":()=>{},"?19e6":()=>{}}]);