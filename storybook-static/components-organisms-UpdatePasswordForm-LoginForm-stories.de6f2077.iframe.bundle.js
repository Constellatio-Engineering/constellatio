(self.webpackChunkconstellatio=self.webpackChunkconstellatio||[]).push([[5866],{"./node_modules/@mantine/core/esm/Anchor/Anchor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>Anchor});var react=__webpack_require__("./node_modules/react/index.js"),MantineProvider=__webpack_require__("./node_modules/@mantine/styles/esm/theme/MantineProvider.js"),create_polymorphic_component=__webpack_require__("./node_modules/@mantine/utils/esm/create-polymorphic-component/create-polymorphic-component.js"),Text=__webpack_require__("./node_modules/@mantine/core/esm/Text/Text.js"),create_styles=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};function getAnchorColor({theme,color}){return"dimmed"===color?theme.fn.dimmed():theme.fn.themeColor(color||theme.primaryColor,"dark"===theme.colorScheme?4:7,!1,!0)}const Anchor_styles=(0,create_styles.k)(((theme,{color,underline})=>({root:__spreadValues({backgroundColor:"transparent",cursor:"pointer",padding:0,border:0,color:getAnchorColor({theme,color})},theme.fn.hover({textDecoration:underline?"underline":"none"}))})));var Anchor_defProp=Object.defineProperty,Anchor_getOwnPropSymbols=Object.getOwnPropertySymbols,Anchor_hasOwnProp=Object.prototype.hasOwnProperty,Anchor_propIsEnum=Object.prototype.propertyIsEnumerable,Anchor_defNormalProp=(obj,key,value)=>key in obj?Anchor_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,Anchor_spreadValues=(a,b)=>{for(var prop in b||(b={}))Anchor_hasOwnProp.call(b,prop)&&Anchor_defNormalProp(a,prop,b[prop]);if(Anchor_getOwnPropSymbols)for(var prop of Anchor_getOwnPropSymbols(b))Anchor_propIsEnum.call(b,prop)&&Anchor_defNormalProp(a,prop,b[prop]);return a};const defaultProps={underline:!0},_Anchor=(0,react.forwardRef)(((props,ref)=>{const _a=(0,MantineProvider.N4)("Anchor",defaultProps,props),{component,className,unstyled,variant,size,color,underline}=_a,others=((source,exclude)=>{var target={};for(var prop in source)Anchor_hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&Anchor_getOwnPropSymbols)for(var prop of Anchor_getOwnPropSymbols(source))exclude.indexOf(prop)<0&&Anchor_propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target})(_a,["component","className","unstyled","variant","size","color","underline"]),{classes,cx}=Anchor_styles({color,underline},{name:"Anchor",unstyled,variant,size}),buttonProps="button"===component?{type:"button"}:null;return react.createElement(Text.x,Anchor_spreadValues(Anchor_spreadValues({component:component||"a",ref,className:cx(classes.root,className),size},buttonProps),others))}));_Anchor.displayName="@mantine/core/Anchor";const Anchor=(0,create_polymorphic_component.F)(_Anchor)},"./node_modules/@mantine/core/esm/Group/Group.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Group});var react=__webpack_require__("./node_modules/react/index.js"),MantineProvider=__webpack_require__("./node_modules/@mantine/styles/esm/theme/MantineProvider.js");var Group_styles=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.styles.js"),Box=__webpack_require__("./node_modules/@mantine/core/esm/Box/Box.js"),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;const defaultProps={position:"left",spacing:"md"},Group=(0,react.forwardRef)(((props,ref)=>{const _a=(0,MantineProvider.N4)("Group",defaultProps,props),{className,position,align,children,noWrap,grow,spacing,unstyled,variant}=_a,others=((source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target})(_a,["className","position","align","children","noWrap","grow","spacing","unstyled","variant"]),filteredChildren=function filterFalsyChildren(children){return react.Children.toArray(children).filter(Boolean)}(children),{classes,cx}=(0,Group_styles.Z)({align,grow,noWrap,spacing,position,count:filteredChildren.length},{unstyled,name:"Group",variant});return react.createElement(Box.x,((a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a})({className:cx(classes.root,className),ref},others),filteredChildren)}));Group.displayName="@mantine/core/Group"},"./node_modules/@mantine/core/esm/Group/Group.styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>GROUP_POSITIONS,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _mantine_styles__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),_mantine_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/get-size/get-size.js"),_mantine_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/rem/rem.js");const GROUP_POSITIONS={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};const __WEBPACK_DEFAULT_EXPORT__=(0,_mantine_styles__WEBPACK_IMPORTED_MODULE_0__.k)(((theme,{spacing,position,noWrap,grow,align,count})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:align||"center",flexWrap:noWrap?"nowrap":"wrap",justifyContent:GROUP_POSITIONS[position],gap:(0,_mantine_styles__WEBPACK_IMPORTED_MODULE_1__.a)({size:spacing,sizes:theme.spacing}),"& > *":{boxSizing:"border-box",maxWidth:grow?`calc(${100/count}% - (${(0,_mantine_styles__WEBPACK_IMPORTED_MODULE_2__.h)((0,_mantine_styles__WEBPACK_IMPORTED_MODULE_1__.a)({size:spacing,sizes:theme.spacing}))} - ${(0,_mantine_styles__WEBPACK_IMPORTED_MODULE_1__.a)({size:spacing,sizes:theme.spacing})} / ${count}))`:void 0,flexGrow:grow?1:0}}})))},"./src/components/organisms/UpdatePasswordForm/LoginForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>LoginForm_stories});var _Default$parameters,_Default$parameters2,defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),use_form=__webpack_require__("./node_modules/@mantine/form/esm/use-form.js"),zod_resolver=__webpack_require__("./node_modules/@mantine/form/esm/resolvers/zod-resolver/zod-resolver.js"),dist=__webpack_require__("./node_modules/@supabase/auth-helpers-nextjs/dist/index.js"),events=__webpack_require__("./node_modules/@mantine/notifications/esm/events.js"),Stack=__webpack_require__("./node_modules/@mantine/core/esm/Stack/Stack.js"),TextInput=__webpack_require__("./node_modules/@mantine/core/esm/TextInput/TextInput.js"),PasswordInput=__webpack_require__("./node_modules/@mantine/core/esm/PasswordInput/PasswordInput.js"),Group=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),Anchor=__webpack_require__("./node_modules/@mantine/core/esm/Anchor/Anchor.js"),Button=__webpack_require__("./node_modules/@mantine/core/esm/Button/Button.js"),ResetPasswordModal=__webpack_require__("./src/components/organisms/ResetPasswordModal/ResetPasswordModal.tsx"),esm_react=__webpack_require__("./node_modules/jotai/esm/react.mjs"),next_router=__webpack_require__("./node_modules/next/router.js"),LoginFormSchema=__webpack_require__("./src/schemas/LoginFormSchema.ts"),__jsx=react.createElement;function LoginForm(){var _useAtom=(0,esm_react.KO)(ResetPasswordModal.i),_useAtom2=(0,slicedToArray.Z)(_useAtom,2),setResetPasswordModalOpen=(_useAtom2[0],_useAtom2[1]),supabase=(0,dist.createPagesBrowserClient)(),router=(0,next_router.useRouter)(),_useState=(0,react.useState)(!1),submitting=_useState[0],setSubmitting=_useState[1],form=(0,use_form.c)({validate:(0,zod_resolver.F)(LoginFormSchema.v),validateInputOnBlur:!0,initialValues:{email:"",password:""}}),handleSubmit=form.onSubmit(function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(formValues){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setSubmitting(!0),events.N9.show({title:"Login handler",message:"The login handler was called"}),_context.next=5,supabase.auth.signInWithPassword({email:formValues.email,password:formValues.password});case 5:return _context.next=7,router.replace("/");case 7:_context.next=11;break;case 9:_context.prev=9,_context.t0=_context.catch(0);case 11:return _context.prev=11,setSubmitting(!1),_context.finish(11);case 14:case"end":return _context.stop()}}),_callee,null,[[0,9,11,14]])})));return function(_x){return _ref.apply(this,arguments)}}());return __jsx(react.Fragment,null,__jsx("form",{onSubmit:handleSubmit},__jsx(Stack.K,{mt:32},__jsx(TextInput.o,(0,esm_extends.Z)({label:"E-Mail Adresse"},form.getInputProps("email"))),__jsx(PasswordInput.W,(0,esm_extends.Z)({label:"Passwort"},form.getInputProps("password"))),__jsx(Group.Z,{position:"apart",mt:"xl"},__jsx(Anchor.e,{component:"button",type:"button",onClick:function openResetPasswordModal(){return setResetPasswordModalOpen(!0)},color:"dimmed",size:"xs"},"Probleme beim Anmelden?")),__jsx(Button.z,{type:"submit",color:"dark",radius:"sm",loading:submitting},"Login"))),__jsx(ResetPasswordModal.d,null))}LoginForm.__docgenInfo={description:"",methods:[],displayName:"LoginForm"};var LoginForm_stories_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Default={render:function render(){return LoginForm_stories_jsx(LoginForm,null)}};const LoginForm_stories={title:"Organisms/UpdatePasswordForm",component:LoginForm};Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"{\n  render: () => <LoginForm />\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})})},"./src/schemas/LoginFormSchema.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>loginFormSchema});var zod__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zod/lib/index.mjs"),loginFormSchema=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({email:zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email({message:"Ungültige E-Mail Adresse"}),password:zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(6,{message:"Passwörter haben mindestens 6 Zeichen"})})},"?c969":()=>{},"?3e83":()=>{},"?19e6":()=>{}}]);